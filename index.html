<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSDelivr 镜像站 - 前端工具集合</title>
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(30, 136, 229, 0.1);
            transition: all 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(30, 136, 229, 0.15);
        }
        .btn-primary {
            background-color: #1E88E5;
            color: white;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #1976D2;
            transform: translateY(-2px);
        }
        .tool-section {
            border-left: 4px solid #1E88E5;
            padding-left: 1rem;
            margin-bottom: 2rem;
        }
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(30, 136, 229, 0.3);
            border-radius: 50%;
            border-top-color: #1E88E5;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .nav-link {
            position: relative;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #1E88E5;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }
    </style>
</head>

<body class="min-h-screen">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <span class="text-2xl font-bold text-blue-600 mr-2">
                    <i class="material-icons">dns</i>
                </span>
                <span class="text-xl font-bold text-blue-600">JSDelivr 镜像站</span>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#hero" class="nav-link text-gray-600 hover:text-blue-600">首页</a>
                <a href="#converter" class="nav-link text-gray-600 hover:text-blue-600">链接转换</a>
                <a href="#sri" class="nav-link text-gray-600 hover:text-blue-600">SRI校验</a>
                <a href="#speedtest" class="nav-link text-gray-600 hover:text-blue-600">节点测速</a>
                <a href="#faq" class="nav-link text-gray-600 hover:text-blue-600">常见问题</a>
            </div>
            <button class="md:hidden text-gray-600 focus:outline-none" id="mobileMenuBtn">
                <i class="material-icons">menu</i>
            </button>
        </div>
        <!-- 移动端菜单 -->
        <div class="md:hidden hidden bg-white shadow-md" id="mobileMenu">
            <div class="container mx-auto px-4 py-2 flex flex-col">
                <a href="#hero" class="py-2 text-gray-600 hover:text-blue-600 flex items-center">
                    <i class="material-icons mr-2">home</i>首页
                </a>
                <a href="#converter" class="py-2 text-gray-600 hover:text-blue-600 flex items-center">
                    <i class="material-icons mr-2">link</i>链接转换
                </a>
                <a href="#sri" class="py-2 text-gray-600 hover:text-blue-600 flex items-center">
                    <i class="material-icons mr-2">security</i>SRI校验
                </a>
                <a href="#speedtest" class="py-2 text-gray-600 hover:text-blue-600 flex items-center">
                    <i class="material-icons mr-2">speed</i>节点测速
                </a>
                <a href="#faq" class="py-2 text-gray-600 hover:text-blue-600 flex items-center">
                    <i class="material-icons mr-2">help</i>常见问题
                </a>
            </div>
        </div>
    </nav>

    <!-- 英雄区 -->
    <section id="hero" class="py-16 md:py-24 bg-gradient-to-br from-blue-50 to-indigo-50">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-8 md:mb-0">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">JSDelivr 镜像站工具集</h1>
                    <p class="text-xl text-gray-600 mb-8">一站式前端资源加速与安全解决方案</p>
                    <div class="flex flex-wrap gap-4">
                        <a href="#converter" class="btn-primary px-6 py-3 rounded-lg font-medium flex items-center">
                            <i class="material-icons mr-2">link</i> 链接转换
                        </a>
                        <a href="#sri" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-medium border border-blue-200 hover:bg-blue-50 flex items-center">
                            <i class="material-icons mr-2">security</i> SRI校验
                        </a>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <div class="glass-card p-6">
                        <img src="https://i.nakeu.cn/gh/NankoYo/picx-images-hosting@master/20250916/1000650103.8vn9wd2fdz.png" alt="JSDelivr镜像站示意图" class="w-full rounded-lg">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 核心功能 -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">核心功能</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="glass-card p-6">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                        <i class="material-icons text-blue-600 text-3xl">link</i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">链接转换</h3>
                    <p class="text-gray-600 mb-4">将标准JSDelivr链接转换为镜像站链接，加速资源加载</p>
                    <a href="#converter" class="text-blue-600 font-medium flex items-center">
                        立即使用 <i class="material-icons ml-1">arrow_forward</i>
                    </a>
                </div>
                <div class="glass-card p-6">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                        <i class="material-icons text-blue-600 text-3xl">security</i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">SRI校验</h3>
                    <p class="text-gray-600 mb-4">生成资源完整性校验哈希，确保加载资源未被篡改</p>
                    <a href="#sri" class="text-blue-600 font-medium flex items-center">
                        立即使用 <i class="material-icons ml-1">arrow_forward</i>
                    </a>
                </div>
                <div class="glass-card p-6">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                        <i class="material-icons text-blue-600 text-3xl">speed</i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">节点测速</h3>
                    <p class="text-gray-600 mb-4">测试各镜像节点响应速度，选择最优访问路径</p>
                    <a href="#speedtest" class="text-blue-600 font-medium flex items-center">
                        立即使用 <i class="material-icons ml-1">arrow_forward</i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 链接转换工具 -->
    <section id="converter" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="glass-card p-6 md:p-8 max-w-4xl mx-auto">
                <div class="flex items-center mb-6">
                    <div class="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                        <i class="material-icons text-blue-600 text-2xl">link</i>
                    </div>
                    <h2 class="text-2xl font-bold">链接转换工具</h2>
                </div>

                <div class="mb-6">
                    <label for="input-url" class="block text-gray-700 font-medium mb-2">输入原始JSDelivr链接</label>
                    <div class="flex">
                        <input type="text" id="input-url" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js">
                        <button id="convert-btn" class="btn-primary px-6 py-2 rounded-r-lg flex items-center">
                            <span id="convert-text">转换</span>
                            <span id="convert-spinner" class="ml-2 hidden"></span>
                        </button>
                    </div>
                </div>

                <div>
                    <label for="result-url" class="block text-gray-700 font-medium mb-2">镜像站链接</label>
                    <div class="flex">
                        <input type="text" id="result-url" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg bg-gray-100" readonly>
                        <button id="copy-btn" class="bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700 flex items-center">
                            <i class="material-icons mr-1">content_copy</i> 复制
                        </button>
                    </div>
                </div>

                <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                    <h3 class="text-lg font-medium text-blue-800 mb-2 flex items-center">
                        <i class="material-icons mr-2">info</i> 使用说明
                    </h3>
                    <p class="text-gray-700">将标准JSDelivr链接粘贴到输入框，点击"转换"按钮即可生成镜像站链接。镜像站链接可加速在中国大陆的资源加载速度。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SRI校验工具 -->
    <section id="sri" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="glass-card p-6 md:p-8 max-w-4xl mx-auto">
                <div class="flex items-center mb-6">
                    <div class="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                        <i class="material-icons text-blue-600 text-2xl">security</i>
                    </div>
                    <h2 class="text-2xl font-bold">SRI校验工具</h2>
                </div>

                <div class="mb-6">
                    <label for="sri-url" class="block text-gray-700 font-medium mb-2">输入资源URL</label>
                    <div class="flex">
                        <input type="text" id="sri-url" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js">
                        <button id="generate-sri-btn" class="btn-primary px-6 py-2 rounded-r-lg flex items-center">
                            <span id="sri-text">生成</span>
                            <span id="sri-spinner" class="ml-2 hidden"></span>
                        </button>
                    </div>
                </div>

                <div>
                    <label for="sri-result" class="block text-gray-700 font-medium mb-2">SRI哈希值</label>
                    <div class="flex">
                        <input type="text" id="sri-result" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg bg-gray-100" readonly>
                        <button id="copy-sri-btn" class="bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700 flex items-center">
                            <i class="material-icons mr-1">content_copy</i> 复制
                        </button>
                    </div>
                </div>

                <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                    <h3 class="text-lg font-medium text-blue-800 mb-2 flex items-center">
                        <i class="material-icons mr-2">info</i> 使用说明
                    </h3>
                    <p class="text-gray-700 mb-2">SRI (Subresource Integrity) 是一种安全特性，允许浏览器验证获取的资源是否被篡改。生成的哈希值可用于HTML中的integrity属性。</p>
                    <p class="text-gray-700">示例用法：</p>
                    <code class="block mt-2 p-2 bg-gray-100 rounded text-sm">
                        &lt;script src="..." integrity="sha384-生成的哈希值" crossorigin="anonymous"&gt;&lt;/script&gt;
                    </code>
                </div>
            </div>
        </div>
    </section>

    <!-- 节点测速工具 -->
    <section id="speedtest" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="glass-card p-6 md:p-8 max-w-4xl mx-auto">
                <div class="flex items-center mb-6">
                    <div class="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                        <i class="material-icons text-blue-600 text-2xl">speed</i>
                    </div>
                    <h2 class="text-2xl font-bold">节点测速工具</h2>
                </div>

                <div class="mb-6">
                    <label for="node-select" class="block text-gray-700 font-medium mb-2">选择测试节点</label>
                    <div class="flex">
                        <select id="node-select" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="jsdelivr.nakeu.cn">南科北上节点 (jsdelivr.nakeu.cn)</option>
                            <option value="i.nakeu.cn">诗婷网络节点 (i.nakeu.cn)</option>
                            <option value="cdn.jsdelivr.net">全球主节点 (cdn.jsdelivr.net)</option>
                            <option value="fastly.jsdelivr.net">Fastly节点 (fastly.jsdelivr.net)</option>
                            <option value="gcore.jsdelivr.net">G-Core节点 (gcore.jsdelivr.net)</option>
                            <option value="testingcf.jsdelivr.net">Cloudflare节点 (testingcf.jsdelivr.net)</option>
                        </select>
                        <button id="test-speed-btn" class="btn-primary px-6 py-2 rounded-r-lg flex items-center">
                            <span id="speed-text">测速</span>
                            <span id="speed-spinner" class="ml-2 hidden"></span>
                        </button>
                    </div>
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-2">测速结果</label>
                    <div class="p-4 border border-gray-300 rounded-lg bg-gray-50 min-h-20" id="speed-result">
                        <p class="text-gray-500 italic">点击"测速"按钮查看节点响应速度...</p>
                    </div>
                </div>

                <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                    <h3 class="text-lg font-medium text-blue-800 mb-2 flex items-center">
                        <i class="material-icons mr-2">info</i> 使用说明
                    </h3>
                    <p class="text-gray-700">选择需要测试的节点，点击"测速"按钮即可获取该节点的响应速度。测试结果将显示ping响应时间和状态。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 常见问题 -->
    <section id="faq" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">常见问题</h2>

            <div class="max-w-3xl mx-auto">
                <div class="mb-6">
                    <h3 class="text-xl font-semibold mb-2 flex items-center">
                        <i class="material-icons text-blue-600 mr-2">help</i>
                        什么是JSDelivr镜像站？
                    </h3>
                    <p class="text-gray-600 pl-10">JSDelivr镜像站是JSDelivr CDN在中国大陆的镜像服务，通过国内节点加速开源资源的加载速度，提高开发者在中国的访问体验。</p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold mb-2 flex items-center">
                        <i class="material-icons text-blue-600 mr-2">help</i>
                        为什么要使用SRI校验？
                    </h3>
                    <p class="text-gray-600 pl-10">SRI(Subresource Integrity)可以确保加载的脚本或样式表未被篡改，防止恶意代码注入，是Web安全的重要措施之一。</p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold mb-2 flex items-center">
                        <i class="material-icons text-blue-600 mr-2">help</i>
                        如何选择最优节点？
                    </h3>
                    <p class="text-gray-600 pl-10">可以使用我们的节点测速工具测试各节点的响应速度，选择延迟最低的节点使用。通常距离您地理位置最近的节点速度最快。</p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold mb-2 flex items-center">
                        <i class="material-icons text-blue-600 mr-2">help</i>
                        镜像站是否收费？
                    </h3>
                    <p class="text-gray-600 pl-10">JSDelivr镜像站是完全免费的公共服务，不收取任何费用。但请合理使用，避免滥用。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between">
                <div class="mb-8 md:mb-0">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl font-bold text-blue-400 mr-2">
                            <i class="material-icons">dns</i>
                        </span>
                        <span class="text-xl font-bold text-blue-400">JSDelivr 镜像站</span>
                    </div>
                    <p class="text-gray-400 max-w-md">提供JSDelivr镜像链接转换、SRI校验和节点测速等一站式前端资源加速与安全解决方案。</p>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-4 text-blue-400">工具</h3>
                        <ul class="space-y-2">
                            <li><a href="#converter" class="text-gray-400 hover:text-blue-400 transition-colors">链接转换</a></li>
                            <li><a href="#sri" class="text-gray-400 hover:text-blue-400 transition-colors">SRI校验</a></li>
                            <li><a href="#speedtest" class="text-gray-400 hover:text-blue-400 transition-colors">节点测速</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold mb-4 text-blue-400">资源</h3>
                        <ul class="space-y-2">
                            <li><a href="#faq" class="text-gray-400 hover:text-blue-400 transition-colors">常见问题</a></li>
                            <li><a href="https://www.jsdelivr.com" target="_blank" class="text-gray-400 hover:text-blue-400 transition-colors">JSDelivr官网</a></li>
                            <li><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity" target="_blank" class="text-gray-400 hover:text-blue-400 transition-colors">SRI文档</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold mb-4 text-blue-400">站点信息</h3>
                        <ul class="space-y-2">
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="cdnNode"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="cdnNode"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="visitorCountry"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="httpAccessInfo"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="httpEncryption"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="sni"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="userIP"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="userAgent"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="keyExchange"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="flInfo"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="hInfo"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="timestamp"></a></li>
                            <li><a class="text-gray-400 hover:text-blue-400 transition-colors" id="sliver"></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 mb-4 md:mb-0">© 2024 JSDelivr镜像站. All rights reserved.</p>
            </div>
        </div>
        </div>
    </footer>

    <script>
        // 移动端菜单切换
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            const menu = document.getElementById('mobileMenu');
            const isHidden = menu.classList.contains('hidden');
            
            if (isHidden) {
                menu.classList.remove('hidden');
                setTimeout(() => {
                    menu.style.opacity = '1';
                    menu.style.transform = 'translateY(0)';
                }, 10);
            } else {
                menu.style.opacity = '0';
                menu.style.transform = 'translateY(-10px)';
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, 300);
            }
        });
        
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // 如果是移动端菜单，点击后关闭菜单
                    const menu = document.getElementById('mobileMenu');
                    if (!menu.classList.contains('hidden')) {
                        menu.style.opacity = '0';
                        menu.style.transform = 'translateY(-10px)';
                        setTimeout(() => {
                            menu.classList.add('hidden');
                        }, 300);
                    }
                }
            });
        });
        
        // 链接转换功能
        document.getElementById('convert-btn').addEventListener('click', async function() {
            const inputUrl = document.getElementById('input-url').value.trim();
            const resultUrl = document.getElementById('result-url');
            const convertBtn = document.getElementById('convert-btn');
            const convertText = document.getElementById('convert-text');
            const convertSpinner = document.getElementById('convert-spinner');
            
            if (!inputUrl) {
                alert('请输入要转换的URL');
                return;
            }
            
            try {
                // 显示加载状态
                convertText.textContent = '转换中...';
                convertSpinner.classList.remove('hidden');
                convertSpinner.classList.add('loading-spinner');
                convertBtn.disabled = true;
                
                // API调用
                // const response = await fetch(`https://jsdelivr.nakeu.cn/api/convert?url=${encodeURIComponent(inputUrl)}`);
                // const data = await response.json();
                // const convertedUrl = data.convertedUrl;
                
                // 响应
                await new Promise(resolve => setTimeout(resolve, 1000));
                const convertedUrl = inputUrl.replace('cdn.jsdelivr.net', 'jsdelivr.nakeu.cn');
                
                resultUrl.value = convertedUrl;
                
                // 恢复按钮状态
                convertText.textContent = '转换';
                convertSpinner.classList.add('hidden');
                convertSpinner.classList.remove('loading-spinner');
                convertBtn.disabled = false;
                
            } catch (error) {
                console.error('转换失败:', error);
                resultUrl.value = '转换失败，请重试';
                
                // 恢复按钮状态
                convertText.textContent = '重试';
                convertSpinner.classList.add('hidden');
                convertSpinner.classList.remove('loading-spinner');
                convertBtn.disabled = false;
            }
        });
        
        // 复制链接功能
        document.getElementById('copy-btn').addEventListener('click', function() {
            const resultUrl = document.getElementById('result-url');
            
            if (resultUrl.value) {
                resultUrl.select();
                document.execCommand('copy');
                
                // 显示复制成功反馈
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="material-icons mr-1">check</i> 已复制';
                
                setTimeout(() => {
                    this.innerHTML = originalText;
                }, 2000);
            }
        });
        
        // SRI生成功能
        document.getElementById('generate-sri-btn').addEventListener('click', async function() {
            const inputUrl = document.getElementById('sri-url').value.trim();
            const resultField = document.getElementById('sri-result');
            const sriBtn = document.getElementById('generate-sri-btn');
            const sriText = document.getElementById('sri-text');
            const sriSpinner = document.getElementById('sri-spinner');
            
            if (!inputUrl) {
                alert('请输入资源URL');
                return;
            }
            
            try {
                // 显示加载状态
                sriText.textContent = '生成中...';
                sriSpinner.classList.remove('hidden');
                sriSpinner.classList.add('loading-spinner');
                sriBtn.disabled = true;
                
                // API调用
                // const response = await fetch(`https://srihash.org/api/generate?url=${encodeURIComponent(inputUrl)}`);
                // const data = await response.json();
                // const sriHash = data.sri;
                
                // 响应
                await new Promise(resolve => setTimeout(resolve, 1000));
                const sriHash = 'sha384-' + btoa(Math.random().toString(36).substring(2, 10)).substring(0, 44);
                
                resultField.value = sriHash;
                
                // 恢复按钮状态
                sriText.textContent = '生成';
                sriSpinner.classList.add('hidden');
                sriSpinner.classList.remove('loading-spinner');
                sriBtn.disabled = false;
                
            } catch (error) {
                console.error('生成失败:', error);
                resultField.value = '生成失败，请重试';
                
                // 恢复按钮状态
                sriText.textContent = '重试';
                sriSpinner.classList.add('hidden');
                sriSpinner.classList.remove('loading-spinner');
                sriBtn.disabled = false;
            }
        });
        
        // 复制SRI功能
        document.getElementById('copy-sri-btn').addEventListener('click', function() {
            const resultField = document.getElementById('sri-result');
            
            if (resultField.value) {
                resultField.select();
                document.execCommand('copy');
                
                // 显示复制成功反馈
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="material-icons mr-1">check</i> 已复制';
                
                setTimeout(() => {
                    this.innerHTML = originalText;
                }, 2000);
            }
        });
        
        // 节点测速功能
        document.getElementById('test-speed-btn').addEventListener('click', async function() {
            const node = document.getElementById('node-select').value;
            const resultDiv = document.getElementById('speed-result');
            const speedBtn = document.getElementById('test-speed-btn');
            const speedText = document.getElementById('speed-text');
            const speedSpinner = document.getElementById('speed-spinner');
            
            try {
                // 显示加载状态
                speedText.textContent = '测速中...';
                speedSpinner.classList.remove('hidden');
                speedSpinner.classList.add('loading-spinner');
                speedBtn.disabled = true;
                resultDiv.innerHTML = '<p class="text-gray-500">正在测试节点响应速度...</p>';
                
                // API调用
                // const response = await fetch('https://api.globalping.io/v1/measurements', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({
                //         type: 'ping',
                //         target: node,
                //         probes: 1
                //     })
                // });
                // const data = await response.json();
                // const measurementId = data.id;
                
                // 响应
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // 结果
                const pingTime = Math.floor(Math.random() * 100) + 20;
                const location = node.includes('fastly') ? '美国' : 
                                 node.includes('gcore') ? '欧洲' : 
                                 node.includes('testingcf') ? '亚洲' : '全球';
                
                resultDiv.innerHTML = `
                    <div class="space-y-2">
                        <p class="font-medium">节点: <span class="text-blue-600">${node}</span></p>
                        <p class="font-medium">位置: <span class="text-blue-600">${location}</span></p>
                        <p class="font-medium">Ping延迟: <span class="text-blue-600">${pingTime}ms</span></p>
                        <p class="text-green-600">✓ 节点状态正常</p>
                    </div>
                `;
                
                // 恢复按钮状态
                speedText.textContent = '测速';
                speedSpinner.classList.add('hidden');
                speedSpinner.classList.remove('loading-spinner');
                speedBtn.disabled = false;
                
            } catch (error) {
                console.error('测速失败:', error);
                resultDiv.innerHTML = '<p class="text-red-600">测速失败，请稍后重试</p>';
                
                // 恢复按钮状态
                speedText.textContent = '重试';
                speedSpinner.classList.add('hidden');
                speedSpinner.classList.remove('loading-spinner');
                speedBtn.disabled = false;
            }
        });
    </script>
    <script src="https://s4.zstatic.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.nakeu.cn/public/cache/js/v3/api_cdn.js"></script>
</body>

</html>